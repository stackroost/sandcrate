<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sandcrate</title>
    <link data-trunk rel="css" href="style/style.css" />
    <link data-trunk rel="css" href="style/auth.css" />
    <link data-trunk rel="rust" data-target-name="sandcrate_web" />
  </head>
  <body>
    <script type="module">
      // Wait for Trunk to load the WASM, then call our main function
      window.addEventListener("TrunkApplicationStarted", async (event) => {
        const { wasm } = event.detail;
        const bindings = window.wasmBindings;
        
        console.log('WASM loaded successfully');
        console.log('Bindings:', bindings);
        
        // Call the main function to start the application
        if (bindings.main) {
          console.log('Calling main function...');
          bindings.main();
        } else {
          console.error('Main function not found in bindings');
        }
      });
    </script>
  </body>
</html>
